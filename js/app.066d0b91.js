(function(t){function e(e){for(var n,o,i=e[0],s=e[1],u=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(p.length)p.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(c.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={app:0},c=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/standing-echo/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"0613":function(t,e,r){"use strict";(function(t){var n,a=r("2b0e"),c=r("2f62"),o=r("1b17");async function i(t){const e=document.createElement("audio"),r=new Promise(t=>{e.addEventListener("loadedmetadata",()=>{e.duration===1/0?(e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=()=>{e.ontimeupdate=null,t(e.duration),e.currentTime=0}):t(e.duration)})});return e.src=t,r}a["a"].use(c["a"]),e["a"]=new c["a"].Store({strict:"production"!==(null===(n=null===t||void 0===t?void 0:Object({NODE_ENV:"production",BASE_URL:"/standing-echo/"}))||void 0===n?void 0:n.NODE_ENV),state:{trackIndex:0,tracks:Array()},getters:{currentTrack(t){return t.tracks[t.trackIndex]},trackIndex(t){return t.trackIndex},tracks(t){return t.tracks.slice(0)}},actions:{async addTrack({commit:t},{blob:e,defaultName:r}){const n=URL.createObjectURL(e),a=new o["a"]({blobUrl:n,duration:await i(n),mimeType:e.type,title:r});t("addTrack",a)}},mutations:{addTrack(t,e){t.tracks.push(e)},setTrack(t,e){const r=t.tracks.indexOf(e);if(r<0||r>t.tracks.length)throw new TypeError("Index out of bounds");t.trackIndex=r},setTrackIndex(t,e){if(e<0||e>t.tracks.length)throw new TypeError("Index out of bounds");t.trackIndex=e},clearTracks(t){t.tracks.forEach(t=>URL.revokeObjectURL(t.blobUrl)),t.tracks=[]}},plugins:[]})}).call(this,r("4362"))},"07d8":function(t,e,r){},"1b17":function(t,e,r){"use strict";function n(t){const e=new Date(1e3*t).toISOString();return e.substr(11,8).split(":")}r.d(e,"a",(function(){return a}));class a{constructor(t){Object.assign(this,t)}get durationString(){const[t,e,r]=n(this.duration||0);return"00"==t?`${e}:${r}`:`${t}:${e}:${r}`}}},"2ec6":function(t,e,r){t.exports=r.p+"img/feather-sprite.8bf209bf.svg"},"37b8":function(t,e,r){},"4bac":function(t,e,r){},"549d":function(t,e,r){"use strict";var n=r("74a5"),a=r.n(n);a.a},"74a5":function(t,e,r){},"7ac1":function(t,e,r){"use strict";var n=r("37b8"),a=r.n(n);a.a},"7dad":function(t,e,r){},8479:function(t,e,r){},9993:function(t,e,r){"use strict";var n=r("7dad"),a=r.n(n);a.a},a382:function(t,e,r){"use strict";var n=r("4bac"),a=r.n(n);a.a},b21b:function(t,e,r){},bacb:function(t,e,r){"use strict";var n=r("07d8"),a=r.n(n);a.a},c78f:function(t,e,r){"use strict";var n=r("8479"),a=r.n(n);a.a},cd49:function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{attrs:{id:"app",role:"application"}},[r("player"),r("playlist")],1)},c=[],o=r("9ab4"),i=r("60a3"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"player"},[r("audio",{attrs:{src:t.currentTrack&&t.currentTrack.blobUrl||""},on:{loadedmetadata:t.loadedMetadata,timeupdate:t.timeUpdate,ended:t.ended}}),r("input",{attrs:{type:"file",id:"browse",accept:"audio/*",multiple:""},on:{change:t.browse}}),r("seekbar",{attrs:{currentTime:t.currentTime,duration:t.currentTrack&&t.currentTrack.duration||0},on:{"seek-click":t.seekClick}}),r("fieldset",{staticClass:"controls"},[r("player-button",{attrs:{icon:"skip-back",disabled:t.trackIndex<=0,title:"Previous"},on:{click:t.skipBack}}),r("player-button",{attrs:{icon:"play",disabled:!t.currentTrack,hidden:!t.isPaused,title:"Play"},on:{click:t.play}}),r("player-button",{attrs:{icon:"pause",disabled:!t.currentTrack,hidden:t.isPaused,title:"Pause"},on:{click:t.pause}}),r("player-button",{attrs:{icon:"skip-forward",disabled:!t.currentTrack||t.trackIndex>=t.tracks.length-1,title:"Next"},on:{click:t.skipForward}}),r("player-button",{attrs:{icon:"folder",title:"Open file(s)"},on:{click:t.open}})],1),r("volume",{attrs:{loudness:t.volume,muted:t.isMuted},on:{"volume-change":t.volumeChange,"max-vol":t.maxVolume,"mute-vol":t.muteVolume}})],1)},u=[],l=r("2f62"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"player-button",attrs:{type:"button"},on:{click:function(e){return t.$emit("click")}}},[r("feather-icon",{staticClass:"skip-back",attrs:{icon:t.icon}})],1)},p=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"feather-icon"},[n("use",{attrs:{"xlink:href":r("2ec6")+"#"+t.icon}})])},b=[];let h=class extends i["c"]{};Object(o["a"])([Object(i["b"])()],h.prototype,"icon",void 0),h=Object(o["a"])([i["a"]],h);var f=h,k=f,v=(r("bacb"),r("2877")),g=Object(v["a"])(k,m,b,!1,null,"97655ed0",null),y=g.exports;let T=class extends i["c"]{};Object(o["a"])([Object(i["b"])()],T.prototype,"icon",void 0),T=Object(o["a"])([Object(i["a"])({components:{FeatherIcon:y}})],T);var O=T,x=O,j=(r("549d"),Object(v["a"])(x,d,p,!1,null,"2b4d83b3",null)),_=j.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"seekbar"},[r("time",{attrs:{datetime:t.currentTimeFormatString}},[t._v(t._s(t.currentTimeString))]),r("progress",{attrs:{max:t.duration},domProps:{value:t.currentTime},on:{click:t.seekClick}}),r("time",{attrs:{datetime:t.durationFormatString}},[t._v(t._s(t.durationString))])])},w=[];function S(t){const e=new Date(1e3*t).toISOString();return e.substr(11,8).split(":")}let P=class extends i["c"]{get currentTimeString(){const[t,e,r]=S(this.currentTime);return"00"==t?`${e}:${r}`:`${t}:${e}:${r}`}get currentTimeFormatString(){const[t,e,r]=S(this.currentTime);return`PT${t}H${e}M${r}S`}get durationString(){const[t,e,r]=S(this.duration);return"00"==t?`${e}:${r}`:`${t}:${e}:${r}`}get durationFormatString(){const[t,e,r]=S(this.duration);return`PT${t}H${e}M${r}S`}seekClick(t){const e=t.target,r=e.getBoundingClientRect(),n=(t.pageX-r.left)/r.width,a=n*this.duration;this.$emit("seek-click",a)}};Object(o["a"])([Object(i["b"])()],P.prototype,"currentTime",void 0),Object(o["a"])([Object(i["b"])()],P.prototype,"duration",void 0),P=Object(o["a"])([i["a"]],P);var E=P,I=E,C=(r("c78f"),Object(v["a"])(I,$,w,!1,null,"005a761c",null)),A=C.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"volume"},[r("player-button",{attrs:{icon:t.muteIcon,title:"Mute"},on:{click:function(e){return t.$emit("mute-vol")}}}),r("progress",{attrs:{max:"1"},domProps:{value:t.loudness},on:{click:t.volumeChange}}),r("player-button",{attrs:{icon:"volume-2",title:"Max"},on:{click:function(e){return t.$emit("max-vol")}}})],1)},N=[];let U=class extends i["c"]{get muteIcon(){return this.muted?"volume-x":"volume-1"}mounted(){this.elProgress=this.$el.querySelector("progress")}volumeChange(t){const e=t.target,r=e.getBoundingClientRect(),n=(t.pageX-r.left)/r.width;this.$emit("volume-change",n)}};Object(o["a"])([Object(i["b"])()],U.prototype,"loudness",void 0),Object(o["a"])([Object(i["b"])()],U.prototype,"muted",void 0),U=Object(o["a"])([Object(i["a"])({components:{PlayerButton:_}})],U);var F=U,B=F,R=(r("7ac1"),Object(v["a"])(B,M,N,!1,null,"61bf38b9",null)),L=R.exports;let V=class extends i["c"]{constructor(){super(...arguments),this.currentTime=0,this.isMuted=!1,this.volume=0,this.isPaused=!0}pause(){this.isPaused=!0,this.elAudio.pause()}async browse(t){const e=t.target,r=Array.from(e.files||[]);r.length&&(this.pause(),this.currentTime=0,this.$store.commit("clearTracks"),await Promise.all([...r].map(t=>this.$store.dispatch("addTrack",{blob:t,defaultName:t.name}))),this.$store.commit("setTrackIndex",0),this.elAudio.load(),this.play())}ended(){this.currentTime>=this.currentTrack.duration?this.skipForward():(console.log("PAUSE"),this.pause())}loadedMetadata(){this.play(),this.volume=this.elAudio.volume}maxVolume(){this.volume=this.elAudio.volume=1}muteVolume(){this.isMuted=this.elAudio.muted=!this.elAudio.muted}mounted(){this.elAudio=this.$el.querySelector("audio"),this.elBrowse=this.$el.querySelector("#browse")}play(){this.isPaused=!1,this.elAudio.play()}seekClick(t){this.currentTrack&&(this.elAudio.currentTime=t)}skipBack(){this.pause(),this.currentTime=0,this.trackIndex<=0||this.$store.commit("setTrackIndex",this.trackIndex-1)}skipForward(){this.pause(),this.currentTime=0,!this.currentTrack||this.trackIndex>=this.tracks.length-1||this.$store.commit("setTrackIndex",this.trackIndex+1)}timeUpdate(){this.currentTime=this.elAudio.currentTime}volumeChange(t){this.volume=this.elAudio.volume=t}open(){this.elBrowse.click()}};V=Object(o["a"])([Object(i["a"])({components:{PlayerButton:_,Volume:L,Seekbar:A},computed:Object(l["b"])(["currentTrack","trackIndex","tracks"])})],V);var q=V,D=q,X=(r("d85e"),Object(v["a"])(D,s,u,!1,null,"acfb2f9a",null)),H=X.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"playlist"},[t._m(0),0==t.tracks.length?r("tbody",{staticClass:"playlist-empty"},[t._m(1)]):t._e(),t.tracks.length?r("tbody",t._l(t.tracks,(function(e){return r("tr",{key:e.blobUrl,class:{active:e===t.currentTrack},on:{click:function(r){return t.trackClick(e,r)}}},[r("td",[t._v(t._s(e.title))]),r("td",[t._v(t._s(e.durationString))]),r("td",[t._v(t._s(e.mimeType))])])})),0):t._e()])},G=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Title")]),r("th",[t._v("Length")]),r("th",[t._v("Type")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",{attrs:{colspan:"3"}},[t._v("— empty —")])])}];let z=class extends i["c"]{trackClick(t){this.$store.commit("setTrack",t)}};z=Object(o["a"])([Object(i["a"])({computed:Object(l["b"])(["currentTrack","tracks"])})],z);var K=z,Q=K,W=(r("a382"),Object(v["a"])(Q,J,G,!1,null,"48fc901c",null)),Y=W.exports;let Z=class extends i["c"]{created(){document.title="Standing Echo"}};Z=Object(o["a"])([Object(i["a"])({components:{Player:H,Playlist:Y}})],Z);var tt=Z,et=tt,rt=(r("9993"),Object(v["a"])(et,a,c,!1,null,null,null)),nt=rt.exports,at=r("0613"),ct=r("9483");Object(ct["a"])("/standing-echo/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),new n["a"]({store:at["a"],render:t=>t(nt)}).$mount("#app")},d85e:function(t,e,r){"use strict";var n=r("b21b"),a=r.n(n);a.a}});
//# sourceMappingURL=app.066d0b91.js.map